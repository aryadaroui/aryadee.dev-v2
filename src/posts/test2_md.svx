---
title: Mdsvex and rehype-pretty code markdown features
date: 15 Apr 2023
tags:
  - Markdown
  - SvelteKit
---

<script>
import Callout from '$lib/Callout.svelte';
</script>

# Basic Markdown

Some *emphasized text*, **bold text**, ~~strikethrough~~ text.

- An unordered list
	- item 1
	- item 2

1. An ordered list
	1. item 1
	2. item 2
2. second
1. third

> A blockquote about something.

Inline `code` and code blocks:


```
cute cat
           __..--''``---....___   _..._    __
       _.-'    .-/";  `        ``<._  ``.''_ `.       
   _.-' _..--.'_    \                    `( ) )      
  (_..-'    (< _     ;_..__               ; `'      
             `-._,_)'      ``--...____..-'         
```


We having working inline math $f(x) = x^2$, and some block math:

$$
  \int x^2 \mathrm{d}x = \frac{1}{3}x^3 + C
$$

# Extra features

## Pretty code

With implementation of [rehype-pretty-code](https://rehype-pretty-code.netlify.app/), we also have syntax highlighted inline code, `f(x) => { x^2 }{:js}`, with support for token colors: `variable{:.variable}` `function{:.function}` `keyword{:.keyword}` `param{:.param}` `string{:.string}` `number{:.number}` `comment{:.comment}` `type{:.type}`. Of course, this comes with support for syntax highlighted block code. You can click on a code block to focus it, expanding it to the width of your screen--useful for long lines.

```python
# some python code
def howdy(num_friends: int)
  print('howdy to my ' + num_friends + ' friends!')

howdy(0)
```

There's also support for numbering, titles and highlighting lines and words.

```svelte {3} title="component.svelte" showLineNumbers /href/
<a href={link}>
  <div class="link-box">
    <slot />
  </div>
</a>
```

## Custom components

And with mdsvex, we can easily use Svelte components, like custom callouts!

<Callout title="Escaping special characters" icon="warning"  >

In code blocks, everything is displayed as expected, but outside of code blocks, you'll need to escape some characters.

Because of how mdsvex handles `{}`, `<>`, and symbols, if you're <u>outside of a code block</u>, you'll need to escape them with the html entity codes: `&amp;amp;lt; &amp;amp;gt;`  to yield &amp;lt; &amp;gt; and `&ampamp;#123; &ampamp;#125;` to yield &amp#123; &amp#125;.

This is because mdsvex proactively converts html entities, so simply using `&amp;lt;` yields `<` to Svelte first, which is seen as an opening tag and throws an error. This conversion happens even in inline code, but because it's still in a preformatted tag, it doesn't throw an error.

</Callout>

As you may have noticed, there's also a sticky table of contents on the right side of the page, generated by [svelte-toc](https://github.com/janosh/svelte-toc)
